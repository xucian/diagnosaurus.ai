<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diagnosaurus.ai - AI Medical Symptom Analysis</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <h1>ðŸ¦– Diagnosaurus.ai</h1>
            <p class="tagline">AI-Powered Multi-Agent Medical Symptom Analysis</p>
        </header>

        <!-- Input Section -->
        <section id="input-section" class="card">
            <h2>Describe Your Symptoms</h2>
            <form id="symptom-form">
                <div class="form-group">
                    <label for="symptoms">Symptoms (be as detailed as possible):</label>
                    <textarea
                        id="symptoms"
                        name="symptoms"
                        rows="6"
                        placeholder="E.g., Persistent fatigue for 2 weeks, dizziness when standing, pale skin, shortness of breath during light exercise..."
                        required
                    ></textarea>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="age">Age (optional):</label>
                        <input type="number" id="age" name="age" min="0" max="120">
                    </div>
                    <div class="form-group">
                        <label for="sex">Sex (optional):</label>
                        <select id="sex" name="sex">
                            <option value="">Select...</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="documents">Medical Documents (optional):</label>
                    <input type="file" id="documents" name="documents" multiple accept=".pdf,.jpg,.png">
                    <small>Blood work, prescriptions, etc. (max 16MB total)</small>
                </div>

                <button type="submit" class="btn-primary">Analyze Symptoms</button>
            </form>
        </section>

        <!-- Loading Section -->
        <section id="loading-section" class="card hidden">
            <div class="loading-spinner"></div>
            <h3 id="loading-status">Initializing analysis...</h3>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
            <p id="loading-message" class="agent-status"></p>
        </section>

        <!-- Results Section -->
        <section id="results-section" class="hidden">
            <!-- Warning Message -->
            <div id="warning-message" class="card warning hidden"></div>

            <!-- Body Diagram with Conditions -->
            <div class="card">
                <h2>Potential Conditions</h2>
                <div id="body-diagram-container">
                    <svg id="body-diagram" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
                        <!-- Simple human body outline -->
                        <g id="body-outline">
                            <!-- Head -->
                            <circle cx="400" cy="80" r="40" fill="none" stroke="#333" stroke-width="2"/>
                            <!-- Neck -->
                            <line x1="400" y1="120" x2="400" y2="150" stroke="#333" stroke-width="2"/>
                            <!-- Shoulders -->
                            <line x1="320" y1="170" x2="480" y2="170" stroke="#333" stroke-width="2"/>
                            <!-- Torso -->
                            <rect x="350" y="150" width="100" height="180" fill="none" stroke="#333" stroke-width="2" rx="10"/>
                            <!-- Arms -->
                            <line x1="320" y1="170" x2="280" y2="280" stroke="#333" stroke-width="2"/>
                            <line x1="480" y1="170" x2="520" y2="280" stroke="#333" stroke-width="2"/>
                            <!-- Legs -->
                            <line x1="370" y1="330" x2="360" y2="500" stroke="#333" stroke-width="2"/>
                            <line x1="430" y1="330" x2="440" y2="500" stroke="#333" stroke-width="2"/>
                        </g>
                        <!-- Condition bubbles will be added here dynamically -->
                        <g id="condition-bubbles"></g>
                    </svg>
                </div>
                <div id="condition-legend"></div>
            </div>

            <!-- Clinic Results -->
            <div class="card">
                <h2>Nearby Healthcare Providers</h2>
                <div id="clinic-results"></div>
            </div>
        </section>
    </div>

    <script src="/static/js/app.js"></script>
</body>
</html>
